version: '3.8'

services:
  electron-dev:
    build: .
    container_name: wallpaper-generator-dev
    volumes:
      # Monta tu c√≥digo en el contenedor
      - .:/app
      # Cachea dependencias de Node.js
      - node_modules:/app/node_modules
    working_dir: /app
    stdin_open: true
    tty: true
    # Para desarrollo con hot reload
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=development
      # Permite ejecutar Electron en modo headless (sin GUI)
      - DISPLAY=:99
    # Opcional: si necesitas ejecutar con GUI, descomenta lo siguiente
    # y configura X11 forwarding desde tu host
    # environment:
    #   - DISPLAY=${DISPLAY}
    # volumes:
    #   - /tmp/.X11-unix:/tmp/.X11-unix

volumes:
  node_modules: